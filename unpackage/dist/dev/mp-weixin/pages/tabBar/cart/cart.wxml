<view><view class="goods-list"><block wx:if="{{cart.length==0}}"><view class="tis"><text>购物车是空的哦~</text></view></block><block wx:for="{{cart}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="row flex align-center"><view data-event-opts="{{[['tap',[['deleteGoods',['$0'],[[['cart','',index,'id']]]]]]]}}" class="menu" catchtap="__e"><view class="icon shanchu"></view></view><view data-event-opts="{{[['touchstart',[['touchStart',[index,'$event']]]],['touchmove',[['touchMove',[index,'$event']]]],['touchend',[['touchEnd',[index,'$event']]]]]}}" class="{{['carrier flex align-center',theIndex==index?'open':oldIndex==index?'close':'']}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"><view data-event-opts="{{[['tap',[['selected',[index]]]]]}}" class="checkbox-box padding-left-sm margin-right-sm" bindtap="__e"><view class="checkbox"><view class="{{[row.selected?'on':'']}}"></view></view></view><view data-event-opts="{{[['tap',[['toGoods',['$0'],[[['cart','',index]]]]]]]}}" class="goods-info flex margin-right-sm" bindtap="__e"><view class="img margin-right-xs"><image src="{{row.img}}"></image></view><view class="info flex flex-wrap flex-direction justify-between"><view class="title flex">{{row.name}}</view><view class="price-number flex justify-between"><view class="price">{{"￥"+row.price}}</view><view class="number"><view data-event-opts="{{[['tap',[['sub',[index]]]]]}}" class="sub" catchtap="__e"><view class="icon jian"></view></view><view data-event-opts="{{[['tap',[['discard',['$event']]]]]}}" class="input" catchtap="__e"><input type="number" data-event-opts="{{[['input',[['__set_model',['$0','number','$event',[]],[[['cart','',index]]]],['sum',['$event',index]]]]]}}" value="{{row.number}}" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['add',[index]]]]]}}" class="add" catchtap="__e"><view class="icon jia"></view></view></view></view></view></view></view></view></block></view><view class="footer bg-white flex justify-between align-center padding-lr-sm"><view data-event-opts="{{[['tap',[['allSelect',['$event']]]]]}}" class="checkbox-box" bindtap="__e"><view class="checkbox"><view class="{{[isAllselected?'on':'']}}"></view></view><view class="text">全选</view><block wx:if="{{selectedList.length>0}}"><view data-event-opts="{{[['tap',[['deleteList',['$event']]]]]}}" class="delBtn flex  padding-lr-sm text-red margin-left-sm" bindtap="__e">删除</view></block></view><view class="settlement flex align-center justify-end"><view class="sum flex margin-right-sm">合计:<view class="money text-bold">{{"￥"+sumPrice}}</view></view><view data-event-opts="{{[['tap',[['toConfirmation',['$event']]]]]}}" class="btn bg-red text-white flex justify-center align-center padding-lr-sm" bindtap="__e">{{"结算("+selectedList.length+")"}}</view></view></view></view>